import{c as _,f as V,k as T,l as U,m as j,p as A}from"./chunk-OYOJ2XX2.js";import{a as $}from"./chunk-NHNZC5T7.js";import{a as H}from"./chunk-ZS4G4JJV.js";import{b as R}from"./chunk-4QFA7BNO.js";import{$a as C,Aa as u,Oa as x,P as h,Qa as f,Rb as D,U as v,Ua as e,Va as t,Wa as s,Wb as I,_ as S,_a as y,eb as i,fb as m,gb as c,ja as p,jb as E,ka as d,kb as M,lb as b,nb as w,za as o}from"./chunk-CZ4BJCOO.js";var N=(()=>{class a{constructor(n){this.http=n,this.apiUrl=`${H.apiUrl}/stats`}getDashboardStats(){return this.http.get(`${this.apiUrl}/dashboard`)}getStudentStats(n){return this.http.get(`${this.apiUrl}/student/${n}`)}getCompanyStats(n){return this.http.get(`${this.apiUrl}/company/${n}`)}getFacultyStats(){return this.http.get(`${this.apiUrl}/faculty`)}getAdminStats(){return this.http.get(`${this.apiUrl}/admin`)}getApplicationsStats(){return this.http.get(`${this.apiUrl}/applications`)}getOffersStats(){return this.http.get(`${this.apiUrl}/offers`)}static{this.\u0275fac=function(l){return new(l||a)(v(R))}}static{this.\u0275prov=h({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function F(a,O){a&1&&(e(0,"div",29),s(1,"div",30),t())}function L(a,O){if(a&1&&(e(0,"div",31)(1,"div",32)(2,"div")(3,"p",33),i(4,"Taux de candidature"),t(),e(5,"p",34),i(6),t()(),e(7,"div")(8,"p",33),i(9,"Taux de conversion"),t(),e(10,"p",35),i(11),t()()()()),a&2){let n=C();o(6),c("",(n.reportData==null?null:n.reportData.applicationRate)||0,"%"),o(5),c("",(n.reportData==null?null:n.reportData.conversionRate)||0,"%")}}var X=(()=>{class a{constructor(n,l){this.statsService=n,this.notificationService=l,this.reportData=null,this.selectedPeriod="month",this.loading=!0}ngOnInit(){this.loadReports()}loadReports(){this.loading=!0,this.statsService.getCompanyStats(1).subscribe({next:n=>{this.reportData=n,this.loading=!1},error:n=>{this.loading=!1,this.reportData={totalOffers:12,totalApplications:45,signedAgreements:8,averageRating:4.2,applicationRate:75,conversionRate:18}}})}static{this.\u0275fac=function(l){return new(l||a)(u(N),u($))}}static{this.\u0275cmp=S({type:a,selectors:[["app-company-reports"]],standalone:!0,features:[w],decls:60,vars:7,consts:[[1,"space-y-6"],[1,"flex","justify-between","items-center"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600"],[1,"px-3","py-2","border","border-gray-300","rounded-md",3,"ngModelChange","change","ngModel"],["value","month"],["value","quarter"],["value","year"],[1,"grid","grid-cols-1","md:grid-cols-4","gap-6"],[1,"bg-white","p-6","rounded-lg","shadow"],[1,"flex","items-center"],[1,"p-2","bg-primary-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-primary-600"],["d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2V6"],[1,"ml-4"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-2xl","font-semibold","text-gray-900"],[1,"p-2","bg-green-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"p-2","bg-purple-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-600"],["d","M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"],[1,"p-2","bg-yellow-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-yellow-600"],["d","M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z"],[1,"text-lg","font-medium","text-gray-900","mb-4"],["class","flex justify-center py-8",4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"flex","justify-center","py-8"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-primary-600"],[1,"space-y-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"text-sm","font-medium","text-gray-700"],[1,"text-lg","text-primary-600"],[1,"text-lg","text-green-600"]],template:function(l,r){l&1&&(e(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),i(4,"Rapports Entreprise"),t(),e(5,"p",3),i(6,"Performance de vos offres et candidatures"),t()(),e(7,"select",4),b("ngModelChange",function(g){return M(r.selectedPeriod,g)||(r.selectedPeriod=g),g}),y("change",function(){return r.loadReports()}),e(8,"option",5),i(9,"Ce mois"),t(),e(10,"option",6),i(11,"Ce trimestre"),t(),e(12,"option",7),i(13,"Cette ann\xE9e"),t()()(),e(14,"div",8)(15,"div",9)(16,"div",10)(17,"div",11),p(),e(18,"svg",12),s(19,"path",13),t()(),d(),e(20,"div",14)(21,"p",15),i(22,"Offres publi\xE9es"),t(),e(23,"p",16),i(24),t()()()(),e(25,"div",9)(26,"div",10)(27,"div",17),p(),e(28,"svg",18),s(29,"path",19),t()(),d(),e(30,"div",14)(31,"p",15),i(32,"Candidatures re\xE7ues"),t(),e(33,"p",16),i(34),t()()()(),e(35,"div",9)(36,"div",10)(37,"div",20),p(),e(38,"svg",21),s(39,"path",22),t()(),d(),e(40,"div",14)(41,"p",15),i(42,"Conventions sign\xE9es"),t(),e(43,"p",16),i(44),t()()()(),e(45,"div",9)(46,"div",10)(47,"div",23),p(),e(48,"svg",24),s(49,"path",25),t()(),d(),e(50,"div",14)(51,"p",15),i(52,"Note moyenne"),t(),e(53,"p",16),i(54),t()()()()(),e(55,"div",9)(56,"h3",26),i(57,"Performance des offres"),t(),x(58,F,2,0,"div",27)(59,L,12,2,"div",28),t()()),l&2&&(o(7),E("ngModel",r.selectedPeriod),o(17),m((r.reportData==null?null:r.reportData.totalOffers)||0),o(10),m((r.reportData==null?null:r.reportData.totalApplications)||0),o(10),m((r.reportData==null?null:r.reportData.signedAgreements)||0),o(10),c("",(r.reportData==null?null:r.reportData.averageRating)||0,"/5"),o(4),f("ngIf",r.loading),o(),f("ngIf",!r.loading))},dependencies:[I,D,A,U,j,T,_,V],encapsulation:2})}}return a})();export{X as CompanyReportsComponent};
