import{f as x}from"./chunk-KFQQY7Q4.js";import{a as b}from"./chunk-RX5L7MNL.js";import{a as k}from"./chunk-KMK3IRKM.js";import{a as w}from"./chunk-AY7NQNNI.js";import{a as E}from"./chunk-GDEHS6TE.js";import"./chunk-SX46PIGY.js";import"./chunk-SNFTPR3R.js";import"./chunk-ZS4G4JJV.js";import"./chunk-4QFA7BNO.js";import{Aa as m,Ua as t,Va as i,Wa as s,Wb as S,_ as v,eb as n,fb as f,ja as o,ka as a,n as p,nb as u,x as h,z as c,za as g}from"./chunk-CZ4BJCOO.js";var D=(()=>{class d{constructor(r,e,l,C){this.applicationService=r,this.offerService=e,this.agreementService=l,this.authService=C,this.stats={applications:0,offers:0,agreements:1},console.log("\u{1F4CA} StudentDashboardComponent initialized")}ngOnInit(){this.loadStats()}loadStats(){console.log("\u{1F4C8} Loading dashboard statistics...");let r=this.authService.getCurrentUser();if(!r){console.error("\u274C No authenticated user found");return}console.log("\u{1F464} Current user:",r),h({applications:this.applicationService.getStudentApplications(0,100).pipe(c(e=>(console.error("\u274C Error loading applications:",e),p({content:[],totalElements:0})))),offers:this.offerService.getOffers(0,100).pipe(c(e=>(console.error("\u274C Error loading offers:",e),p({content:[],totalElements:0})))),agreements:this.agreementService.getStudentAgreements().pipe(c(e=>(console.error("\u274C Error loading agreements:",e),p({content:[],totalElements:0}))))}).subscribe({next:e=>{console.log("\u2705 Dashboard stats loaded:",e),this.stats.applications=e.applications.totalElements||e.applications.content?.length||0,this.stats.offers=e.offers.totalElements||e.offers.content?.length||0,this.stats.agreements=e.agreements.totalElements||e.agreements.content?.length||0,console.log("\u{1F4CA} Updated stats:",this.stats)},error:e=>{console.error("\u274C Error loading dashboard stats:",e)}})}static{this.\u0275fac=function(e){return new(e||d)(m(k),m(b),m(w),m(E))}}static{this.\u0275cmp=v({type:d,selectors:[["app-student-dashboard"]],standalone:!0,features:[u],decls:51,vars:3,consts:[[1,"space-y-6"],[1,"bg-white","rounded-lg","shadow-sm","border","p-6"],[1,"text-2xl","font-bold","text-primary-900","mb-2"],[1,"text-primary-600"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"flex","items-center"],[1,"p-3","bg-primary-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-primary-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"ml-4"],[1,"text-sm","font-medium","text-primary-600"],[1,"text-2xl","font-bold","text-primary-900"],[1,"p-3","bg-orange-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 13.255A23.931 23.931 0 0112 15c-3.183 0-6.22-.62-9-1.745M16 6V4a2 2 0 00-2-2h-4a2 2 0 00-2-2v2m8 0V6a2 2 0 012 2v6a2 2 0 01-2 2H8a2 2 0 01-2-2V8a2 2 0 012-2h8z"],[1,"p-3","bg-green-100","rounded-lg"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"text-lg","font-semibold","text-primary-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["routerLink","/student/applications",1,"flex","items-center","p-4","bg-primary-50","hover:bg-primary-100","rounded-lg","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-primary-600","mr-3"],[1,"text-primary-800","font-medium"],["routerLink","/offers",1,"flex","items-center","p-4","bg-orange-50","hover:bg-orange-100","rounded-lg","transition-colors"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-5","h-5","text-orange-600","mr-3"]],template:function(e,l){e&1&&(t(0,"div",0)(1,"div",1)(2,"h1",2),n(3,"Tableau de bord \xE9tudiant"),i(),t(4,"p",3),n(5,"Bienvenue sur votre espace personnel"),i()(),t(6,"div",4)(7,"div",1)(8,"div",5)(9,"div",6),o(),t(10,"svg",7),s(11,"path",8),i()(),a(),t(12,"div",9)(13,"p",10),n(14,"Candidatures"),i(),t(15,"p",11),n(16),i()()()(),t(17,"div",1)(18,"div",5)(19,"div",12),o(),t(20,"svg",13),s(21,"path",14),i()(),a(),t(22,"div",9)(23,"p",10),n(24,"Offres disponibles"),i(),t(25,"p",11),n(26),i()()()(),t(27,"div",1)(28,"div",5)(29,"div",15),o(),t(30,"svg",16),s(31,"path",17),i()(),a(),t(32,"div",9)(33,"p",10),n(34,"Conventions"),i(),t(35,"p",11),n(36),i()()()()(),t(37,"div",1)(38,"h2",18),n(39,"Actions rapides"),i(),t(40,"div",19)(41,"a",20),o(),t(42,"svg",21),s(43,"path",8),i(),a(),t(44,"span",22),n(45,"Mes candidatures"),i()(),t(46,"a",23),o(),t(47,"svg",24),s(48,"path",14),i(),a(),t(49,"span",22),n(50,"Chercher des stages"),i()()()()()),e&2&&(g(16),f(l.stats.applications),g(10),f(l.stats.offers),g(10),f(l.stats.agreements))},dependencies:[S,x]})}}return d})();export{D as StudentDashboardComponent};
